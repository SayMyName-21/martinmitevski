<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Zad12</title>
    <script src="https://cdn.plot.ly/plotly-3.0.1.min.js"></script>
</head>

<body>

<button onclick="generateCars()">Generate Car Data</button>
<div id="plot"></div>

<script>
    let cars = []

    function generateCars() {
        const numCars = prompt("Kolku koli?", 5)
        cars = []

        fetch("cars.json")
            .then(response => response.json())
            .then(data => {
                cars = data;
                generate3DPlot();
            })
            .catch(error => console.error("Error", error));
        }

        generate3DPlot()
    }

    function generate3DPlot() {
        console.log(cars)
        const x = cars.map(car => car.speed)
        const y = cars.map(car => car.acceleration)
        const z = cars.map(car => car.fuelEfficiency)
        const text = cars.map(car => `${car.brand}: Speed=${car.speed}, Acceleration=${car.acceleration}, Fuel Efficiency=${car.fuelEfficiency}`)

        const colors = x.map(speed => speed < 50 ? 'red' : speed < 100 ? 'orange' : 'green')

        const data = [{
            x: x,
            y: y,
            z: z,
            mode: 'markers',
            type: 'scatter3d',
            marker: {
                size: 10,
                color: colors,
                opacity: 0.7,
            },
            text: text,
            hoverinfo: 'text',
        }];

           const layout = {
        margin: { l: 0, r: 0, b: 0, t: 0 },
        scene: {
            xaxis: { title: 'Speed' },
            yaxis: { title: 'Acceleration' },
            zaxis: { title: 'Fuel Efficiency' }
        }
    };

        Plotly.newPlot('plot', data, layout);
    }
</script>

</body>
</html>





